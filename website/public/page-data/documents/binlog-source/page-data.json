{"componentChunkName":"component---src-pages-documents-markdown-remark-parent-file-name-js","path":"/documents/binlog-source/","result":{"data":{"markdownRemark":{"html":"<h1>MySQL Binlog Source</h1>\n<!-- TOC -->\n<ul>\n<li><a href=\"#%E4%B8%80%E4%BB%8B%E7%BB%8D\">一、介绍</a></li>\n<li><a href=\"#%E4%BA%8C%E6%94%AF%E6%8C%81%E7%89%88%E6%9C%AC\">二、支持版本</a></li>\n<li><a href=\"#%E4%B8%89%E6%8F%92%E4%BB%B6%E5%90%8D%E7%A7%B0\">三、插件名称</a></li>\n<li><a href=\"#%E5%9B%9B%E6%95%B0%E6%8D%AE%E5%BA%93%E9%85%8D%E7%BD%AE\">四、数据库配置</a>\n<ul>\n<li><a href=\"#1%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\">1 、修改配置文件</a></li>\n<li><a href=\"#2%E6%B7%BB%E5%8A%A0%E6%9D%83%E9%99%90\">2 、添加权限</a></li>\n</ul>\n</li>\n<li><a href=\"#%E4%BA%94%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E\">五、参数说明</a>\n<ul>\n<li><a href=\"#1sync\">1 、Sync</a></li>\n<li><a href=\"#2sql\">2 、SQL</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%85%AD%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84\">六、数据结构</a></li>\n<li><a href=\"#%E4%B8%83%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B\">七、数据类型</a></li>\n<li><a href=\"#%E5%85%AB%E8%84%9A%E6%9C%AC%E7%A4%BA%E4%BE%8B\">八、脚本示例</a></li>\n</ul>\n<!-- /TOC -->\n<h2>一、介绍</h2>\n<p>MySQL Binlog插件使用Canal组件实时地从MySQL中捕获变更数据。目前sink插件暂不支持数据还原，只能写入变更的日志数据。</p>\n<h2>二、支持版本</h2>\n<p>MySQL 5.1.5及以上、TiDB 3.0.10之后</p>\n<h2>三、插件名称</h2>\n<table>\n<thead>\n<tr>\n<th>Sync</th>\n<th>binlogsource、binlogreader</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>SQL</td>\n<td>binlog-x</td>\n</tr>\n</tbody>\n</table>\n<h2>四、数据库配置</h2>\n<h3>1、修改配置文件</h3>\n<p>binlog_format需要修改为 ROW 格式，在/etc/my.cnf文件里[mysqld]下添加下列配置</p>\n<pre><code class=\"language-sql\">server_id=109\r\nlog_bin = /var/lib/mysql/mysql-bin\r\nbinlog_format = ROW\r\nexpire_logs_days = 30\n</code></pre>\n<h3>2、添加权限</h3>\n<p>MySQL Binlog权限需要三个权限 SELECT, REPLICATION SLAVE, REPLICATION CLIENT</p>\n<pre><code class=\"language-sql\">GRANT SELECT, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'canal'@'%' IDENTIFIED BY 'canal';\n</code></pre>\n<ul>\n<li>缺乏SELECT权限时，报错为</li>\n</ul>\n<pre><code class=\"language-text\">com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException:\r\nAccess denied for user 'canal'@'%' to database 'binlog'\n</code></pre>\n<ul>\n<li>缺乏REPLICATION SLAVE权限时，报错为</li>\n</ul>\n<pre><code class=\"language-text\">java.io.IOException: \r\nError When doing Register slave:ErrorPacket [errorNumber=1045, fieldCount=-1, message=Access denied for user 'canal'@'%'\n</code></pre>\n<ul>\n<li>缺乏REPLICATION CLIENT权限时，报错为</li>\n</ul>\n<pre><code class=\"language-text\">com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: \r\nAccess denied; you need (at least one of) the SUPER, REPLICATION CLIENT privilege(s) for this operation\n</code></pre>\n<p>Binlog为什么需要这些权限：</p>\n<ul>\n<li>Select权限代表允许从表中查看数据</li>\n<li>Replication client权限代表允许执行show master status,show slave status,show binary logs命令</li>\n<li>Replication slave权限代表允许slave主机通过此用户连接master以便建立主从 复制关系</li>\n</ul>\n<h2>五、参数说明</h2>\n<h3>1、Sync</h3>\n<ul>\n<li>\n<p><strong>jdbcUrl</strong></p>\n<ul>\n<li>描述：MySQL数据库的jdbc连接字符串，参考文档：<a href=\"http://dev.mysql.com/doc/connector-j/en/connector-j-reference-configuration-properties.html\">Mysql官方文档</a></li>\n<li>必选：是</li>\n<li>字段类型：string</li>\n<li>默认值：无\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>username</strong></p>\n<ul>\n<li>描述：数据源的用户名</li>\n<li>必选：是</li>\n<li>字段类型：string</li>\n<li>默认值：无\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>password</strong></p>\n<ul>\n<li>描述：数据源指定用户名的密码</li>\n<li>必选：是</li>\n<li>字段类型：string</li>\n<li>默认值：无\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>host</strong></p>\n<ul>\n<li>描述：启动MySQL slave的机器ip</li>\n<li>必选：是</li>\n<li>字段类型：string</li>\n<li>默认值：无\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>port</strong></p>\n<ul>\n<li>描述：启动MySQL slave的端口</li>\n<li>必选：否</li>\n<li>字段类型：int</li>\n<li>默认值：3306\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>table</strong></p>\n<ul>\n<li>描述：需要解析的数据表。</li>\n<li>注意：指定此参数后filter参数将无效,table和filter都为空，监听jdbcUrl里的schema下所有表</li>\n<li>必选：否</li>\n<li>字段类型：list<string></li>\n<li>默认值：无\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>filter</strong></p>\n<ul>\n<li>描述：过滤表名的Perl正则表达式</li>\n<li>注意：table和filter都为空，监听jdbcUrl里的schema下所有表</li>\n<li>必选：否</li>\n<li>字段类型：string</li>\n<li>默认值：无</li>\n<li>例子：\n<ul>\n<li>所有表：<code>.*</code> or <code>.*\\\\..*</code></li>\n<li>canal schema下所有表： <code>canal\\\\..*</code></li>\n<li>canal下的以canal打头的表：<code>canal\\\\.canal.*</code></li>\n<li>canal schema下的一张表：<code>canal.test1</code>\r\n<br /></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>cat</strong></p>\n<ul>\n<li>描述：需要解析的数据更新类型，包括insert、update、delete三种</li>\n<li>注意：以英文逗号分割的格式填写。如果为空，解析所有数据更新类型</li>\n<li>必选：否</li>\n<li>字段类型：string</li>\n<li>默认值：无\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>start</strong></p>\n<ul>\n<li>描述：要读取的binlog文件的开始位置</li>\n<li>注意：为空，则从当前position处消费，timestamp的优先级高于 journalName+position</li>\n<li>参数：\n<ul>\n<li>timestamp：时间戳，采集起点从指定的时间戳处消费；</li>\n<li>journalName：文件名，采集起点从指定文件的起始处消费；</li>\n<li>position：文件的指定位置，采集起点从指定文件的指定位置处消费</li>\n</ul>\n</li>\n<li>字段类型：map</li>\n<li>默认值：无\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>transactionSize</strong></p>\n<ul>\n<li>描述：DML数据缓存大小。</li>\n<li>注意：</li>\n<li>必选：否</li>\n<li>默认值：1024</li>\n</ul>\n</li>\n<li>\n<p><strong>pavingData</strong></p>\n<ul>\n<li>描述：是否将解析出的json数据拍平，具体见<a href=\"#%E5%85%AD%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84\">六、数据结构</a></li>\n<li>必选：否</li>\n<li>字段类型：boolean</li>\n<li>默认值：true\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>splitUpdate</strong></p>\n<ul>\n<li>描述：当数据更新类型为update时，是否将update拆分为两条数据，具体见<a href=\"#%E5%85%AD%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84\">六、数据结构</a></li>\n<li>必选：否</li>\n<li>字段类型：boolean</li>\n<li>默认值：false\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>timestampFormat</strong></p>\n<ul>\n<li>描述：指定输入输出所使用的timestamp格式，可选值：<code>SQL</code>、<code>ISO_8601</code></li>\n<li>必选：否</li>\n<li>字段类型：string</li>\n<li>默认值：SQL\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>slaveId</strong></p>\n<ul>\n<li>描述：从服务器的ID</li>\n<li>注意：同一个MYSQL复制组内不能重复</li>\n<li>必选：否</li>\n<li>字段类型：long</li>\n<li>默认值：new Object().hashCode()\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>connectionCharset</strong></p>\n<ul>\n<li>描述：编码信息</li>\n<li>必选：否</li>\n<li>字段类型：string</li>\n<li>默认值：UTF-8\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>detectingEnable</strong></p>\n<ul>\n<li>描述：是否开启心跳</li>\n<li>必选：否</li>\n<li>字段类型：boolean</li>\n<li>默认值：true\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>detectingSQL</strong></p>\n<ul>\n<li>描述：心跳SQL</li>\n<li>必选：否</li>\n<li>字段类型：string</li>\n<li>默认值：SELECT CURRENT_DATE\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>enableTsdb</strong></p>\n<ul>\n<li>描述：是否开启时序表结构能力</li>\n<li>必选：否</li>\n<li>字段类型：boolean</li>\n<li>默认值：true\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>bufferSize</strong></p>\n<ul>\n<li>描述：并发缓存大小</li>\n<li>注意：必须为2的幂</li>\n<li>必选：否</li>\n<li>默认值：1024\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>parallel</strong></p>\n<ul>\n<li>描述：是否开启并行解析binlog日志</li>\n<li>必选：否</li>\n<li>字段类型：boolean</li>\n<li>默认值：true\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>parallelThreadSize</strong></p>\n<ul>\n<li>描述：并行解析binlog日志线程数</li>\n<li>注意：只有 paraller 设置为true才生效</li>\n<li>必选：否</li>\n<li>字段类型：int</li>\n<li>默认值：2\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>isGTIDMode</strong></p>\n<ul>\n<li>描述：是否开启gtid模式</li>\n<li>必选：否</li>\n<li>字段类型：boolean</li>\n<li>默认值：false\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>queryTimeOut</strong></p>\n<ul>\n<li>描述：通过TCP连接发送数据(在这里就是要执行的sql)后，等待响应的超时时间，单位毫秒</li>\n<li>必选：否</li>\n<li>字段类型：int</li>\n<li>默认值：300000\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>connectTimeOut</strong></p>\n<ul>\n<li>描述：数据库驱动(mysql-connector-java)与mysql服务器建立TCP连接的超时时间，单位毫秒</li>\n<li>必选：否</li>\n<li>字段类型：int</li>\n<li>默认值：60000\r\n<br /></li>\n</ul>\n</li>\n</ul>\n<h3>2、SQL</h3>\n<ul>\n<li>\n<p><strong>url</strong></p>\n<ul>\n<li>描述：MySQL数据库的jdbc连接字符串，参考文档：<a href=\"http://dev.mysql.com/doc/connector-j/en/connector-j-reference-configuration-properties.html\">Mysql官方文档</a></li>\n<li>必选：是</li>\n<li>字段类型：string</li>\n<li>默认值：无\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>username</strong></p>\n<ul>\n<li>描述：数据源的用户名</li>\n<li>必选：是</li>\n<li>字段类型：string</li>\n<li>默认值：无\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>password</strong></p>\n<ul>\n<li>描述：数据源指定用户名的密码</li>\n<li>必选：是</li>\n<li>字段类型：string</li>\n<li>默认值：无\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>host</strong></p>\n<ul>\n<li>描述：启动MySQL slave的机器ip</li>\n<li>必选：是</li>\n<li>字段类型：string</li>\n<li>默认值：无\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>port</strong></p>\n<ul>\n<li>描述：启动MySQL slave的端口</li>\n<li>必选：否</li>\n<li>字段类型：int</li>\n<li>默认值：3306\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>table</strong></p>\n<ul>\n<li>描述：需要解析的数据表。</li>\n<li>注意：指定此参数后filter参数将无效，SQL任务只支持监听单张表</li>\n<li>必选：否</li>\n<li>字段类型：string</li>\n<li>默认值：无\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>filter</strong></p>\n<ul>\n<li>描述：过滤表名的Perl正则表达式</li>\n<li>注意：SQL任务只支持监听单张表</li>\n<li>必选：否</li>\n<li>字段类型：string</li>\n<li>默认值：无</li>\n<li>例子：canal schema下的一张表：<code>canal.test1</code>\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>cat</strong></p>\n<ul>\n<li>描述：需要解析的数据更新类型，包括insert、update、delete三种</li>\n<li>注意：以英文逗号分割的格式填写。如果为空，解析所有数据更新类型</li>\n<li>必选：否</li>\n<li>字段类型：string</li>\n<li>默认值：无\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>timestamp</strong></p>\n<ul>\n<li>描述：要读取的binlog文件的开始位置，时间戳，采集起点从指定的时间戳处消费；</li>\n<li>必选：否</li>\n<li>字段类型：string</li>\n<li>默认值：无\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>journal-name</strong></p>\n<ul>\n<li>描述：要读取的binlog文件的开始位置，文件名，采集起点从指定文件的起始处消费；</li>\n<li>必选：否</li>\n<li>字段类型：string</li>\n<li>默认值：无\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>position</strong></p>\n<ul>\n<li>描述：要读取的binlog文件的开始位置，文件的指定位置，采集起点从指定文件的指定位置处消费</li>\n<li>必选：否</li>\n<li>字段类型：string</li>\n<li>默认值：无\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>connection-charset</strong></p>\n<ul>\n<li>描述：编码信息</li>\n<li>必选：否</li>\n<li>字段类型：string</li>\n<li>默认值：UTF-8\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>detecting-enable</strong></p>\n<ul>\n<li>描述：是否开启心跳</li>\n<li>必选：否</li>\n<li>字段类型：boolean</li>\n<li>默认值：true\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>detecting-sql</strong></p>\n<ul>\n<li>描述：心跳SQL</li>\n<li>必选：否</li>\n<li>字段类型：string</li>\n<li>默认值：SELECT CURRENT_DATE\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>enable-tsdb</strong></p>\n<ul>\n<li>描述：是否开启时序表结构能力</li>\n<li>必选：否</li>\n<li>字段类型：boolean</li>\n<li>默认值：true\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>buffer-size</strong></p>\n<ul>\n<li>描述：并发缓存大小</li>\n<li>注意：必须为2的幂</li>\n<li>必选：否</li>\n<li>默认值：1024\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>parallel</strong></p>\n<ul>\n<li>描述：是否开启并行解析binlog日志</li>\n<li>必选：否</li>\n<li>字段类型：boolean</li>\n<li>默认值：true\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>parallel-thread-size</strong></p>\n<ul>\n<li>描述：并行解析binlog日志线程数</li>\n<li>注意：只有 paraller 设置为true才生效</li>\n<li>必选：否</li>\n<li>字段类型：int</li>\n<li>默认值：2\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>is-gtid-mode</strong></p>\n<ul>\n<li>描述：是否开启gtid模式</li>\n<li>必选：否</li>\n<li>字段类型：boolean</li>\n<li>默认值：false\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>query-time-out</strong></p>\n<ul>\n<li>描述：通过TCP连接发送数据(在这里就是要执行的sql)后，等待响应的超时时间，单位毫秒</li>\n<li>必选：否</li>\n<li>字段类型：int</li>\n<li>默认值：300000\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>connect-time-out</strong></p>\n<ul>\n<li>描述：数据库驱动(mysql-connector-java)与mysql服务器建立TCP连接的超时时间，单位毫秒</li>\n<li>必选：否</li>\n<li>字段类型：int</li>\n<li>默认值：60000\r\n<br /></li>\n</ul>\n</li>\n<li>\n<p><strong>timestamp-format.standard</strong></p>\n<ul>\n<li>描述：同Sync中的<code>timestampFormat</code>参数，指定输入输出所使用的timestamp格式，可选值：<code>SQL</code>、<code>ISO_8601</code></li>\n<li>必选：否</li>\n<li>字段类型：string</li>\n<li>默认值：SQL</li>\n</ul>\n</li>\n</ul>\n<h2>六、数据结构</h2>\n<p>在2020-01-01 12:30:00(时间戳：1577853000000)执行：</p>\n<pre><code class=\"language-sql\">INSERT INTO `tudou`.`kudu`(`id`, `user_id`, `name`) VALUES (1, 1, 'a');\n</code></pre>\n<p>在2020-01-01 12:31:00(时间戳：1577853060000)执行：</p>\n<pre><code class=\"language-sql\">DELETE FROM `tudou`.`kudu` WHERE `id` = 1 AND `user_id` = 1 AND `name` = 'a';\n</code></pre>\n<p>在2020-01-01 12:32:00(时间戳：1577853180000)执行：</p>\n<pre><code class=\"language-sql\">UPDATE `tudou`.`kudu` SET `id` = 2, `user_id` = 2, `name` = 'b' WHERE `id` = 1 AND `user_id` = 1 AND `name` = 'a';\n</code></pre>\n<p>1、pavingData = true, splitUpdate = false\r\nRowData中的数据依次为：</p>\n<pre><code>//schema, table, ts, opTime, type, before_id, before_user_id, before_name, after_id, after_user_id, after_name\r\n[\"tudou\", \"kudu\", 6760525407742726144, 1577853000000, \"INSERT\", null, null, null, 1, 1, \"a\"]\r\n[\"tudou\", \"kudu\", 6760525407742726144, 1577853060000, \"DELETE\", 1, 1, \"a\", null, null, null]\r\n[\"tudou\", \"kudu\", 6760525407742726144, 1577853180000, \"UPDATE\", 1, 1, \"a\", 2, 2, \"b\"]\n</code></pre>\n<p>2、pavingData = false, splitUpdate = false\r\nRowData中的数据依次为：</p>\n<pre><code>//schema, table, ts, opTime, type, before, after\r\n[\"tudou\", \"kudu\", 6760525407742726144, 1577853000000, \"INSERT\", null, {\"id\":1, \"user_id\":1, \"name\":\"a\"}]\r\n[\"tudou\", \"kudu\", 6760525407742726144, 1577853060000, \"DELETE\", {\"id\":1, \"user_id\":1, \"name\":\"a\"}, null]\r\n[\"tudou\", \"kudu\", 6760525407742726144, 1577853180000, \"UPDATE\", {\"id\":1, \"user_id\":1, \"name\":\"a\"}, {\"id\":2, \"user_id\":2, \"name\":\"b\"}]\n</code></pre>\n<p>3、pavingData = true, splitUpdate = true\r\nRowData中的数据依次为：</p>\n<pre><code>//schema, table, ts, opTime, type, before_id, before_user_id, before_name, after_id, after_user_id, after_name\r\n[\"tudou\", \"kudu\", 6760525407742726144, 1577853000000, \"INSERT\", null, null, null, 1, 1, \"a\"]\r\n[\"tudou\", \"kudu\", 6760525407742726144, 1577853060000, \"DELETE\", 1, 1, \"a\", null, null, null]\r\n\r\n//schema, table, ts, opTime, type, before_id, before_user_id, before_name\r\n[\"tudou\", \"kudu\", 6760525407742726144, 1577853180000, \"UPDATE_BEFORE\", 1, 1, \"a\"]\r\n\r\n//schema, table, ts, opTime, type, after_id, after_user_id, after_name\r\n[\"tudou\", \"kudu\", 6760525407742726144, 1577853180000, \"UPDATE_AFTER\", 2, 2, \"b\"]\n</code></pre>\n<p>4、pavingData = false, splitUpdate = true\r\nRowData中的数据依次为：</p>\n<pre><code>//schema, table, ts, opTime, type, before, after\r\n[\"tudou\", \"kudu\", 6760525407742726144, 1577853000000, \"INSERT\", null, {\"id\":1, \"user_id\":1, \"name\":\"a\"}]\r\n[\"tudou\", \"kudu\", 6760525407742726144, 1577853060000, \"DELETE\", {\"id\":1, \"user_id\":1, \"name\":\"a\"}, null]\r\n//schema, table, ts, opTime, type, before\r\n[\"tudou\", \"kudu\", 6760525407742726144, 1577853180000, \"UPDATE_BEFORE\", {\"id\":1, \"user_id\":1, \"name\":\"a\"}]\r\n//schema, table, ts, opTime, type, after\r\n[\"tudou\", \"kudu\", 6760525407742726144, 1577853180000, \"UPDATE_AFTER\", {\"id\":2, \"user_id\":2, \"name\":\"b\"}]\n</code></pre>\n<ul>\n<li>type：变更类型，INSERT，UPDATE、DELETE</li>\n<li>opTime：数据库中SQL的执行时间</li>\n<li>ts：自增ID，不重复，可用于排序，解码后为ChunJun的事件时间，解码规则如下:</li>\n</ul>\n<pre><code class=\"language-java\">long id = Long.parseLong(\"6760525407742726144\");\r\nlong res = id >> 22;\r\nDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\r\nSystem.out.println(sdf.format(res));\t\t//2021-01-28 19:54:21\n</code></pre>\n<h2>七、数据类型</h2>\n<table>\n<thead>\n<tr>\n<th>支持</th>\n<th>BIT</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td>TINYINT、SMALLINT、MEDIUMINT、INT、INT24、INTEGER、FLOAT、DOUBLE、REAL、LONG、BIGINT、DECIMAL、NUMERIC</td>\n</tr>\n<tr>\n<td></td>\n<td>CHAR、VARCHAR、TINYTEXT、TEXT、MEDIUMTEXT、LONGTEXT、ENUM、SET、JSON</td>\n</tr>\n<tr>\n<td></td>\n<td>DATE、TIME、TIMESTAMP、DATETIME、YEAR</td>\n</tr>\n<tr>\n<td></td>\n<td>TINYBLOB、BLOB、MEDIUMBLOB、LONGBLOB、GEOMETRY、BINARY、VARBINARY</td>\n</tr>\n<tr>\n<td>暂不支持</td>\n<td>无</td>\n</tr>\n</tbody>\n</table>\n<h2>八、脚本示例</h2>\n<p>见项目内<code>chunjun-examples</code>文件夹。</p>","id":"8fb3d3a7-1017-5951-8a21-906dea8d123a","parent":{"id":"ec0b3e58-5cea-5bee-a0c5-77e6369a3905","name":"binlog-source","modifiedTime":"2022-06-07T13:14:11.895Z","ino":3377699721738917}}},"pageContext":{"id":"8fb3d3a7-1017-5951-8a21-906dea8d123a","parent__name":"binlog-source","__params":{"parent__name":"binlog-source"}}},"staticQueryHashes":["527733040"]}